# Инфраструктура: Агент и Сервер

OC - Windows

node - v14.17.0

<h2>Запуск</h2>

<ol>
  <li>Впишите авторизационные токен в ./server/server-conf.json</li>
  <li>cd ./server && npm install && npm start - установка всех зависимостей и запуск сервера</li>
  <li>cd ./agent && npm install && npm start - установка всех зависимостей и запуск сервера</li>
  <li>Метод startWork записывает билды и конфиги в переменные, каждые 10сек. Сервер запускает только один билд на одном агенте в один момент времени. После выполнения билда агентом, сервер выдаст агенту новый билд, если очередь задач не пустая</li>
  <li>Если во время отправки сборки на сервер произошла ошибка - агент пытается отправить результат каждые 10сек (RETRY_INT), лимита нет</li>
  <li>Если агенту не удалось соединиться с сервером, то агент выводит сообщение об ошибке в stderr,
        и завершает свою работу с кодом 1</li>
</ol>
